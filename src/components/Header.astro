---
import LogoPokemon from "./logos/LogoPokemon.astro";
import LogoBuscar from "./logos/LogoBuscar.astro";
---

<header
    id="landing-header"
    class="bg-white py-3 px-10 flex items-center fixed top-0 w-full justify-between z-40 text-negro"
>
    <div class="flex flex-grow basis-0">
        <a href="./"> <LogoPokemon /></a>

        <div
            class="m-0 mt-[3px] max-w-[600px] border-[2px] border-gray-300 rounded-xl"
        >
            <input type="text" placeholder="Buscar" />
            <span><button class="border-b"><LogoBuscar /></button></span>
        </div>

        <!-- <div class="flex items-center gap-4 text-lg">
            <input
                id="buscar"
                type="text"
                placeholder="Nombre o Número"
                class="border rounded py-2 px-32 border-gray-300"
            />
            <label for="buscar">Busca tu Pokémon</label>
        </div> -->
    </div>
    <nav class="flex flex-grow basis-0 justify-end">
        <ul
            class="flex text-lg [&>li>a]:inline-block [&>li>a]:px-4 [&>li>a]:py-2 [&>li>a]:font-medium [&>li>a]:text-current [&>li>a]:transition-colors [&>li>a]:duration-500"
        >
            <li class="hidden sm:block"><a href="#">Web Pokémon</a></li>
            <li class="hidden sm:block"><a href="#">PokéWiki</a></li>
            <li class="hidden sm:block"><a href="#">Git Repo</a></li>
            <li class="block 2xl:hidden"><a href="#" id="menu-btn">Menú</a></li>
        </ul>
    </nav>

    <div
        id="menu-backdrop"
        class={`
            absolute bg-black/5 backdrop-blur-lg rounded
            translate-x-[var(--left)] translate-y-[var(--top)]
            left-0 top-0
            w-[var(--width)] h-[var(--height)]
            transition-all duration-500
            ease-in-out opacity-0 -z-10
    `}
    >
    </div>
</header>

<script>
    const listItem = document.querySelectorAll("#landing-header li");
    const menuBackDrop = document.querySelector(
        "#menu-backdrop"
    ) as HTMLElement;

    listItem.forEach((item) => {
        item.addEventListener("mouseenter", () => {
            const { left, top, width, height } = item.getBoundingClientRect();

            // console.log({ left, top, width, height }); // para saber la posicion del cursor
            // const { clientHeight, clientWidth } = item;
            // console.log({ clientHeight, clientWidth }); //identificamos el alto y ancho

            menuBackDrop.style.setProperty("--left", `${left}px`);
            menuBackDrop.style.setProperty("--top", `${top}px`);
            menuBackDrop.style.setProperty("--width", `${width}px`);
            menuBackDrop.style.setProperty("--height", `${height}px`);

            menuBackDrop.style.opacity = "1";
            menuBackDrop.style.visibility = "visible";
        });

        item.addEventListener("mouseleave", () => {
            menuBackDrop.style.opacity = "0";
            menuBackDrop.style.visibility = "hidden";
        });
    });
</script>
